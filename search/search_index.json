{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":""},{"location":"#welcome-to-techspark","title":"Welcome to TechSpark!","text":"<p>Great documentation will appear here soon!</p>"},{"location":"#rules","title":"Rules","text":"<ol> <li>No eating in techspark</li> <li>Clean up your stuff</li> <li>Don't steal</li> <li>Ask staff if you are unsure</li> </ol>"},{"location":"example/toaster-oven/","title":"ToasterOven","text":""},{"location":"example/toaster-oven/#toaster-oven-example","title":"Toaster Oven Example","text":"<p>This example is supposed so showcase multiple capabilites of the plcnext system. The overarching goal is to control the temperature of an oven with a heater and fan, while reading the current temperature with a thermocouple. The fan and heater are both conrolled with industrial relays and the k-type thermocouple is connected through a transducer.</p>"},{"location":"example/toaster-oven/#wiring-diagram","title":"Wiring Diagram","text":""},{"location":"example/toaster-oven/#actual-setup","title":"Actual Setup","text":""},{"location":"example/toaster-oven/#ladder-logic-control","title":"Ladder Logic Control","text":"<p>The following code converts the slider input of the starterkit into a temperature input and turns the system on when button s3 is pressed and turned off when button s2 is pressed. The heater is turned on when the set temperature is higher than the current temperature (plus a buffer). The fan is turned on when the set temperature is less than the current temperature (minus a buffer).</p> <p>To run this example open the ToasterOvenLadderLogic.pcwex project and upload it. Enter debug mode to observe the controller logic.</p> <p>Ladder Logic Code:</p> <p></p> <p>Variables:</p> <p></p>"},{"location":"example/toaster-oven/#cpp-rest-control","title":"CPP &amp; Rest Control","text":"<p>This example showcases two things: First, it implements the exact same logic as the ladder logic example, with a real-time cyclic cpp program. Secondly, it has the ability to overwrite the heater control using the button and slider on the hardware with a rest interface, where one can control the temperature of the oven using an example website provided.</p> <p>More information on how this was implemented can be found in the SimpleIOReadWrite Project and the RestCommunication Project</p> <p>To run this example open the ToasterOvenCppRest.pcwex Project and upload it. Then use the slider and buttons on the starterkit to control it or use the website as descibed below.</p>"},{"location":"example/toaster-oven/#cpp-code","title":"Cpp Code","text":"<p>Logic:</p> <pre><code>void ToasterOvenCppProgram::Execute()\n{\n    currentTemp = thermoInput * 0.058 - 100;\n\n    if (restControl) {\n        // control using rest\n        on = true;\n        setTemp = restSetTemp;\n\n    } else {\n        // control using hardware\n        setTemp = sliderInput * 0.02;\n        if (onButton || on) {\n            on = true;\n        }\n        if (offButton) {\n            on = false;\n        }\n    }\n\n    if ((currentTemp + heatingBuffer) &lt; setTemp) {\n        heating = true;\n    } else {\n        heating = false;\n    }\n    if ((currentTemp - coolingBuffer) &gt; setTemp) {\n        cooling = true;\n    } else {\n        cooling = false;\n    }\n\n    if (heating &amp;&amp; on) {\n        heaterOutput = true;\n        fanOutput = false;\n    } else if (cooling &amp;&amp; on) {\n        heaterOutput = false;\n        fanOutput = true;\n    } else {\n        heaterOutput = false;\n        fanOutput = false;\n    }\n\n    log.Info(\"on: {0} heating: {1} cooling: {2} currentTemp: {3} setTemp: {4} REST: {5}\", on, heating, cooling, currentTemp, setTemp, restControl);\n}\n</code></pre> <p>Variables:</p> <pre><code>public:\n    //#port\n    //#attributes(Input)\n    uint16 sliderInput;\n\n    //#port\n    //#attributes(Input)\n    uint16 thermoInput;\n\n    //#port\n    //#attributes(Input)\n    bool onButton;\n\n    //#port\n    //#attributes(Input)\n    bool offButton;\n\n    //#port\n    //#attributes(Output)\n    bool heaterOutput; // Output pin array (16 output pins)\n\n    //#port\n    //#attributes(Output)\n    bool fanOutput; // Output pin array (16 output pins)\n\n    //#port\n    //#attributes(Input|Ehmi)\n    float32 restSetTemp= 0;\n\n    //#port\n    //#attributes(Input|Ehmi)\n    bool restControl = false;\n\n    //#port\n    //#attributes(Output|Ehmi)\n    bool on = false;\n    //#port\n    //#attributes(Output|Ehmi)\n    bool heating = false;\n    //#port\n    //#attributes(Output|Ehmi)\n    bool cooling = false;\n\n    //#port\n    //#attributes(Output|Ehmi)\n    float32 currentTemp;\n\n    //#port\n    //#attributes(Output|Ehmi)\n    float32 setTemp;\n\nprivate: // fields\n    ToasterOvenCpp::ToasterOvenCppComponent&amp; toasterOvenCppComponent;\n\n    double heatingBuffer = 5.0;\n    double coolingBuffer = 5.0;\n\n};\n</code></pre>"},{"location":"example/toaster-oven/#plcnext-engineer-configuration","title":"PLCNext Engineer Configuration","text":"<p>GDS Port Configuration:</p> <p></p> <p>Cyclic Task Configuration:</p> <p></p>"},{"location":"example/toaster-oven/#website","title":"Website","text":"<p>Follow the instructions from the RestCommunication Example on using the CORS extension.</p> <p>If used correctly, opening the index.html file in the website folder should look like this:</p> <p></p>"},{"location":"example/toaster-oven/#remote-grpc-control","title":"Remote GRPC Control","text":"<p>This does exactly the same as the ladder logic example, but all computations are done on a remote device using python through grpc communication (see GrpcRemoteCommunication for more information here)</p> <p>To run this example open the ToasterOvenGrpc.pcwex project and upload it. On a remote device with python and linux follow the following steps.</p> <ol> <li> <p>Install Dependencies (follow steps here)</p> </li> <li> <p>Compile protobuf (run within the python folder)</p> </li> </ol> <pre><code>bash ./build_all.sh\n</code></pre> <ol> <li> <p>Configure Certificate (follow steps here)</p> </li> <li> <p>Get certificate from controller (follow steps here)</p> </li> <li> <p>Run the code</p> </li> </ol> <pre><code>python3 example.py\n</code></pre> <p>Example Output:</p> <p></p>"},{"location":"example/toaster-oven/#code","title":"Code:","text":"<pre><code>import grpc\nimport sys\nimport os\nimport time\nimport matplotlib.pyplot as plt\nimport numpy as np\n\n# Get the absolute path to the directory containing the module and add it to the python path\nmodule_dir = os.path.abspath(os.path.join(os.path.dirname(__file__), 'ServiceStubs'))\nsys.path.insert(0, module_dir)\n\n## Import Protobuf librarys\nfrom ServiceStubs.Plc.Gds.IDataAccessService_pb2_grpc import IDataAccessServiceStub\nfrom ServiceStubs.Plc.Gds.IDataAccessService_pb2 import IDataAccessServiceReadRequest\n# GDS Write Multiple\nfrom ServiceStubs.Plc.Gds.IDataAccessService_pb2 import IDataAccessServiceWriteRequest\nfrom ServiceStubs.Plc.Gds.WriteItem_pb2 import WriteItem\n\n# function to read input from controller\ndef readInput(stub):\n    item = IDataAccessServiceReadRequest()\n    item.portNames.extend(['Arp.Plc.Eclr/sliderInput', 'Arp.Plc.Eclr/thermoInput', 'Arp.Plc.Eclr/onButton', 'Arp.Plc.Eclr/offButton'])\n    response = stub.Read(item)\n    sliderInput = response._ReturnValue[0].Value.Uint16Value\n    thermoInput = response._ReturnValue[1].Value.Uint16Value\n    onButton = response._ReturnValue[2].Value.BoolValue\n    offButton = response._ReturnValue[3].Value.BoolValue\n    return [sliderInput, thermoInput, onButton, offButton]\n\n# function to write relays on controller \ndef writeOutput(stub, heater, fan):\n    request = IDataAccessServiceWriteRequest()\n    item1 = WriteItem()\n    item1.PortName = 'Arp.Plc.Eclr/heaterOutput'\n    item1.Value.BoolValue = heater\n    item1.Value.TypeCode = 2\n    item2 = WriteItem()\n    item2.PortName = 'Arp.Plc.Eclr/fanOutput'\n    item2.Value.BoolValue = fan\n    item2.Value.TypeCode = 2\n    request.data.extend([item1, item2])\n    return stub.Write(request)\n\n###### Setup Graph\n# Initialize the data containers\nx_data = []\ny1_data = []\ny2_data = []\nstart_time = time.perf_counter()\n\n# Set up the plot\nplt.ion()\nfig, ax = plt.subplots()\nline1, = ax.plot([], [], 'r-', label='Set')\nline2, = ax.plot([], [], 'g-', label='Current')\n\nax.legend()\nplt.xlabel('Time')\nplt.ylabel('Temperature')\nax.set_ylim(20, 200)\n\n###### Create GRPC Connection\n# read certificate\nwith open('certificate.pem', 'rb') as f:\n    root_certificates = f.read()\n\n# open channel and check for health\naddr = \"192.168.1.10:50051\"\ncred = grpc.ssl_channel_credentials(root_certificates=root_certificates)\nchannel = grpc.secure_channel(addr, cred)\ntry:\n    grpc.channel_ready_future(channel).result(timeout=5)\nexcept grpc.FutureTimeoutError:\n    sys.exit('Error connecting to server')\n\n# Create IDataAccessServiceStub\nstub = IDataAccessServiceStub(channel)\n\n###### Main Control\n# turn off everything\nwriteOutput(stub, False, False)\n# variables\non = False\nheating = False\ncooling = False\nheatingBuffer = 5.0\ncoolingBuffer = 5.0\n\nwhile (1):\n    # get input from controller\n    sliderInput, thermoInput, onButton, offButton = readInput(stub)\n\n    # calculate temperatures\n    currentTemp = np.round(thermoInput * 0.058 - 100, 1)\n    setTemp = np.round((sliderInput / 10000) * 200, 1)\n\n    # turn system on or off\n    if (onButton and not offButton) or (on):\n        on = True\n    if offButton:\n        on = False\n\n    # decide wheter to heat or cool oven\n    if (currentTemp + heatingBuffer) &lt; setTemp:\n        heating = True\n    else:\n        heating = False\n\n    if (currentTemp - coolingBuffer) &gt; setTemp:\n        cooling = True\n    else:\n        cooling = False\n\n    # turn on heater or fan\n    if heating and on:\n        mode = \"Heating\"\n        writeOutput(stub, True, False)\n    elif cooling and on:\n        mode = \"Cooling\"\n        writeOutput(stub, False, True)\n    else:\n        mode = \"Idle\"\n        writeOutput(stub, False, False)\n    if not on:\n        mode = \"Off\"\n        writeOutput(stub, False, False)\n\n    # print status\n    print(f\"Mode: {mode} SetTemp: {setTemp} currentTemp: {currentTemp}\")\n\n    # graph stuff\n    end_time = time.perf_counter()\n\n    # Append new data\n    x_data.append(end_time - start_time)\n    y1_data.append(setTemp)\n    y2_data.append(currentTemp)\n\n    # Update the data in the line objects\n    line1.set_xdata(x_data)\n    line1.set_ydata(y1_data)\n    line2.set_xdata(x_data)\n    line2.set_ydata(y2_data)\n\n    # Adjust limits if data goes out of view\n    ax.relim()\n    ax.autoscale_view()\n\n    # Draw and flush events\n    fig.canvas.draw()\n    fig.canvas.flush_events()\n\n    time.sleep(0.05) \n\n</code></pre>"},{"location":"staff-guides/fbs/","title":"FBS","text":""},{"location":"staff-guides/fbs/#fbs","title":"FBS","text":"<p>This is one of the core parts of your job at TechSpark. People will need tools to work, they will need machines to create, and they will need materials to construct. The first thing you do on your shift is log into FBS, check for any new prints and process them, then begin to assist students.</p>"},{"location":"staff-guides/fbs/#3d-printing-order-processing","title":"3D Printing Order Processing","text":"<ol> <li>On the FBS opening page, select the \u201cORDERING\u201d tab.</li> </ol> <ol> <li>Select \u201cView Orders\u201d</li> </ol> <ol> <li>Filter to \u201cOpen,\u201d \u201cSubmitted,\u201d and \u201cIn-Processing\u201d and select an order number for an Open order.</li> </ol>"},{"location":"staff-guides/fbs/#starting-a-print","title":"Starting a Print","text":"<p>...</p>"},{"location":"staff-guides/general/","title":"General","text":""},{"location":"staff-guides/general/#student-guides","title":"Student Guides","text":"<p>Follow these guides available to learn more about working with specific devices in TechSpark:</p>"},{"location":"staff-guides/staff-guide-example/","title":"Example","text":""},{"location":"staff-guides/staff-guide-example/#example","title":"Example","text":"<p>Ignore me</p>"},{"location":"staff-guides/staff-guide-example/#title-2","title":"Title 2","text":"<p>Ignore me as well</p>"},{"location":"staff-guides/student-worker-guide/","title":"Student Worker Guide","text":""},{"location":"staff-guides/student-worker-guide/#standard-operating-procedure-sop","title":"Standard Operating Procedure (SOP)","text":"<p>Purpose: This document defines what you should be doing while on shift at TechSpark.</p> <p>PRIMARY Responsibility: Assist users in safe and correct use of TechSpark facilities and equipment.</p> <p>SECONDARY Responsibility: Maintain a clean and organized work environment.</p>"},{"location":"staff-guides/student-worker-guide/#before-each-shift","title":"Before each shift","text":"<ol> <li> <p>Put your name tag on and location frame on your photo.</p> </li> <li> <p>The Fab Lab desk is the primary desk and staffing it is a priority. Only sit at the Ansys desk if there is already a student worker at the Fab Lab desk.</p> </li> <li> <p>Check in with fabrication staff and see if there is anything you can help with, like sweeping or special tasks.</p> </li> </ol>"},{"location":"staff-guides/student-worker-guide/#during-your-shift","title":"During your Shift","text":""},{"location":"staff-guides/student-worker-guide/#responsibilites","title":"Responsibilites","text":"<p>It is your duty to stop people from performing unsafe actions or using equipment incorrectly!</p>"},{"location":"staff-guides/student-worker-guide/#fablab-help-desk","title":"FabLab Help Desk","text":""},{"location":"staff-guides/student-worker-guide/#bambu-3d-printers","title":"Bambu 3D Printers","text":"<ul> <li>Check for finished prints</li> <li>Put finished prints on the rack</li> <li>Mark them as COMPLETE on FBS</li> <li>Add the respective filament charges ($.$$) in FBS</li> <li>Review the 3D printer queue and fulfill open/processing Bambu and F170 3D Printer orders</li> </ul> <p>If you need help, refer to the FBS print guide in the \u201cBasic Training\u201d section before asking a staff member for assistance</p>"},{"location":"staff-guides/student-worker-guide/#laser-engravers","title":"Laser Engravers","text":"<ul> <li>Turn on laser machines</li> <li>Perform any necessary cleaning</li> <li>Complete Pre-hotwork check form</li> </ul>"},{"location":"staff-guides/student-worker-guide/#ansys-help-desk","title":"Ansys Help Desk","text":""},{"location":"staff-guides/student-worker-guide/#f170","title":"F170","text":"<ul> <li>Remove completed prints from the F170\u2019s</li> <li>Place the prints in the QSR bath</li> <li>Update the \u201cWorkflow Status\u201d</li> <li>Add the respective filament charges ($.$$) in FBS</li> </ul>"},{"location":"staff-guides/student-worker-guide/#help-people-in-the-highbay","title":"Help People in the HighBay","text":"<ul> <li>Talk to customers</li> <li>If you are unable to answer a question, ask an experienced student worker or staff member. Balance your time walking the floor and working at the HelpDesk.</li> <li>Move around the space to interact with users and offer assistance in any capacity.<ul> <li>Treat others politely and with respect.</li> <li>Enforce wearing of PPE by users.</li> </ul> </li> <li>Remind users entering and leaving the space to tap their ID card</li> </ul> <p>Not wearing safety glasses is common!</p>"},{"location":"staff-guides/student-worker-guide/#other-responsibilites","title":"Other Responsibilites","text":"<ul> <li>3D printing. Assist people through the ticketing process.</li> <li>Remove all completed 3D print jobs (Bambu &amp; F170)</li> <li>Update print order in FBS</li> <li>Expand your skills! Practice using the various equipment throughout the workshop</li> <li>Return abandoned equipment, tools, and material to the proper location</li> <li>Sweep floors</li> <li>Wipe down table tops with disinfectant wipes</li> </ul>"},{"location":"staff-guides/student-worker-guide/#end-of-your-shift","title":"End of your Shift","text":""},{"location":"staff-guides/student-worker-guide/#general","title":"General","text":"<p>Take your name tag off and remove your location frame.</p>"},{"location":"staff-guides/student-worker-guide/#fablab","title":"Fablab","text":"<p>If you are at the FabLab Help Desk and if there is no student worker scheduled immediately after you, check to see if there are any student workers at Ansys and have them move to the FabLab desk. Brief them or the next student worker on any FBS queues or orders that they should know about or take over for.</p>"},{"location":"staff-guides/student-worker-guide/#opening-procedure","title":"Opening Procedure","text":""},{"location":"staff-guides/student-worker-guide/#doors","title":"Doors","text":"<ul> <li>Ansys Hall Main Entrance</li> <li>Hamerschlag Hall Main Entrance</li> <li>(If Closed) Garage Door between Fablab and Ansys High Bay</li> </ul>"},{"location":"student-guides/general/","title":"General","text":""},{"location":"student-guides/general/#student-guides","title":"Student Guides","text":"<p>Follow these guides available to learn more about working with specific devices in TechSpark:</p>"},{"location":"student-guides/student-guide-example/","title":"Example","text":""},{"location":"student-guides/student-guide-example/#example","title":"Example","text":"<p>Ignore me</p>"},{"location":"student-guides/student-guide-example/#title-2","title":"Title 2","text":"<p>Ignore me as well</p>"}]}